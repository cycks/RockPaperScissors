<!DOCTYPE html>
<html lang = "en">

    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Google Homepage">
        <meta name="keywords" content="HTML,CSS,Google,Homepage">
        <meta name="author" content="sikolia Wycliffe">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- <link rel="stylesheet" type="text/css" href="style.css"> -->
        <title>Rock-Paper-Scissors</title>
        <script type="text/javascript">

            let singleRound = function (playerSelection, computerSelection) {
                var playerSelection = playerSelection.toLowerCase();
                let playerWins = "Player Wins! You selected " + playerSelection + " I selected " + computerSelection;
                let computerWins = "I win! I selected " + computerSelection + " you selected " + playerSelection;
                let tie = "We have a tie. We both selected " + playerSelection;

                if (playerSelection != computerSelection) {
                    switch (playerSelection) {
                        case  "paper":
                            if (computerSelection == "scissors") {
                            var result = computerWins
                           } else {
                            var result = playerWins
                           };
                            break;
                        case "rock":
                           if (computerSelection == "scissors") {
                            var result = playerWins
                           } else {
                            var result = computerWins
                           };
                            break;
                        case "scissors":
                            if (computerSelection == "paper") {
                            var result = playerWins
                           } else {
                            var result = computerWins
                           };
                            break;
                    }
                } else {
                    result = tie
                }
                
                    return result
            };

            let getInput = function(){
                while(true){
                   var playerSelection = prompt("Please enter rock, paper, or scissors");
                   if(playerSelection === "rock" || playerSelection === "paper" || playerSelection === "scissors"){
                       return playerSelection
                   }
                   else {
                       return prompt("WRONG INPUT! Please enter rock, paper, or scissors");
                   }
                }
            }


            let game = function(){
                var step;
                var playerScore = 0;
                var computerScore = 0;
                for (step = 0; step < 5; step++) {
                    // Runs 5 times, with values of step 0 through 4.
                    var playerSelection = getInput();
                    let possibleChoices = ["rock", "paper", "scissors"];
                    let computerSelection = possibleChoices[Math.floor(Math.random() * possibleChoices.length)];

                    var outcome = singleRound(playerSelection, computerSelection);

                    if (outcome.startsWith("Player")) {
                        // alert("Player wins")
                        playerScore += 1
                    } else if (outcome.startsWith("I win!")){
                        computerScore += 1
                    }else{
                        // Python's equivalent of pass
                    }
                    var outcome = ""
                }    
                if (playerScore > computerScore) {
                    var final = "Player wins with a score of " + playerScore + " against computer " + computerScore
                } else {
                    var final = "Computer wins with a score of " + computerScore + " against player " + playerScore
                } 
                return final                    
            }
            console.log(game())
            // console.log(singleRound(playerSelection, computerSelection));
        </script>
    </head>

    <body class="full-height">
        
    </body>
</html>